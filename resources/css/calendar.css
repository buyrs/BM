/* Calendar Component Styles */

/* Base Calendar Styles */
.calendar-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6;
}

.calendar-header {
    @apply mb-6;
}

.calendar-filters {
    @apply bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-6;
}

.calendar-navigation {
    @apply bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-6;
}

.calendar-grid {
    @apply bg-white rounded-lg shadow-sm border border-gray-200;
}

/* Mission Event Styles */
.mission-event {
    @apply relative cursor-pointer transition-all duration-200;
}

.mission-event:hover {
    @apply shadow-md;
    transform: translateY(-1px);
}

/* Mission Stacking Styles */
.mission-stack {
    @apply relative;
}

.mission-stack .mission-event {
    @apply relative z-10;
}

.mission-stack::before {
    content: '';
    @apply absolute inset-0 bg-gray-200 rounded transform translate-y-1 opacity-50 z-0;
}

.mission-stack::after {
    content: '';
    @apply absolute inset-0 bg-gray-300 rounded transform translate-y-2 opacity-30 z-0;
}

/* Enhanced Tooltips */
.mission-tooltip {
    @apply absolute z-50 bg-gray-900 text-white text-xs rounded-md px-3 py-2 shadow-lg pointer-events-none max-w-xs;
}

.mission-tooltip::after {
    content: '';
    @apply absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900;
}

/* Calendar Grid Responsive Styles */
.month-view .grid {
    @apply min-h-96;
}

.week-view,
.day-view {
    @apply overflow-x-auto;
}

/* Mobile Responsive Styles */
@media (max-width: 768px) {
    .calendar-container {
        @apply px-2 py-4;
    }
    
    .calendar-header {
        @apply mb-4;
    }
    
    .calendar-header h1 {
        @apply text-xl;
    }
    
    .calendar-filters {
        @apply p-3;
    }
    
    .calendar-filters .flex {
        @apply flex-col space-y-3;
    }
    
    .calendar-filters .space-x-4 {
        @apply space-x-0;
    }
    
    .calendar-filters select,
    .calendar-filters input {
        @apply w-full text-base; /* Larger text for mobile */
    }
    
    .calendar-filters .filter-grid {
        grid-template-columns: repeat(1, minmax(0, 1fr));
    }
    
    .calendar-navigation {
        @apply p-3;
    }
    
    .calendar-navigation .flex {
        @apply flex-col space-y-4;
    }
    
    .calendar-navigation .justify-between {
        @apply justify-start;
    }
    
    .calendar-navigation .space-x-4 {
        @apply space-x-2;
    }
    
    .calendar-navigation h2 {
        @apply text-lg;
    }
    
    .calendar-navigation .view-mode-selector {
        @apply flex-wrap gap-1;
    }
    
    .calendar-navigation .view-mode-selector button {
        @apply px-2 py-1 text-xs;
    }
    
    /* Calendar Grid Mobile Optimizations */
    .month-view .min-h-32 {
        @apply min-h-20;
    }
    
    .month-view .p-2 {
        @apply p-1;
    }
    
    .month-view .grid-cols-7 > div {
        @apply text-xs;
    }
    
    .month-view .days-header {
        @apply p-2 text-xs;
    }
    
    /* Week View Mobile */
    .week-view {
        @apply text-sm overflow-x-auto;
    }
    
    .week-view .grid-cols-8 {
        @apply min-w-full;
        min-width: 640px; /* Ensure horizontal scroll */
    }
    
    .week-view .time-column {
        @apply w-12 text-xs;
    }
    
    /* Day View Mobile */
    .day-view .w-20 {
        @apply w-12;
    }
    
    .day-view .time-label {
        @apply text-xs;
    }
    
    /* Mission Events Mobile */
    .mission-event {
        @apply text-xs p-1;
    }
    
    .mission-event .w-3 {
        @apply w-2 h-2;
    }
    
    .mission-event .mission-content {
        @apply space-y-0;
    }
    
    .mission-event .mission-type {
        @apply text-xs;
    }
    
    /* Mobile Touch Targets */
    .calendar-grid button,
    .calendar-grid .cursor-pointer {
        @apply min-h-11; /* 44px minimum touch target */
    }
    
    /* Mobile Modals */
    .modal-mobile {
        @apply fixed inset-0 z-50 overflow-y-auto;
    }
    
    .modal-mobile .modal-content {
        @apply min-h-screen p-4;
    }
    
    /* Mobile Form Elements */
    .mobile-form input,
    .mobile-form select,
    .mobile-form textarea {
        @apply text-base py-3; /* Prevent zoom on iOS */
    }
    
    /* Mobile Bulk Operations */
    .bulk-operations-mobile {
        @apply fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg p-4 z-40;
    }
    
    /* Mobile Filter Collapse */
    .filters-collapsed {
        @apply max-h-16 overflow-hidden;
    }
    
    .filters-expanded {
        @apply max-h-none;
    }
    
    .filter-toggle {
        @apply flex items-center justify-between w-full p-3 bg-gray-50 border-b;
    }
}

/* Tablet Responsive Styles */
@media (max-width: 1024px) and (min-width: 769px) {
    .calendar-container {
        @apply px-4 py-5;
    }
    
    .calendar-filters {
        @apply p-4;
    }
    
    .calendar-filters .filter-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
    
    .calendar-filters .flex {
        @apply flex-wrap gap-3;
    }
    
    .calendar-navigation {
        @apply p-4;
    }
    
    .calendar-navigation .space-x-4 {
        @apply space-x-3;
    }
    
    .calendar-navigation .view-mode-selector button {
        @apply px-3 py-2 text-sm;
    }
    
    /* Tablet Calendar Grid */
    .month-view .min-h-32 {
        @apply min-h-28;
    }
    
    .week-view .grid-cols-8 {
        @apply gap-1;
    }
    
    /* Tablet Mission Events */
    .mission-event {
        @apply text-sm p-1.5;
    }
    
    /* Tablet Touch Targets */
    .calendar-grid button,
    .calendar-grid .cursor-pointer {
        @apply min-h-10;
    }
}

/* Loading States */
.calendar-loading {
    @apply animate-pulse;
}

.calendar-skeleton {
    @apply bg-gray-200 rounded;
}

/* Status Colors */
.status-unassigned {
    @apply bg-gray-100 text-gray-800;
}

.status-assigned {
    @apply bg-blue-100 text-blue-800;
}

.status-in-progress {
    @apply bg-green-100 text-green-800;
}

.status-completed {
    @apply bg-green-100 text-green-800;
}

.status-cancelled {
    @apply bg-red-100 text-red-800;
}

/* Mission Type Colors */
.mission-entry {
    @apply bg-blue-50 border-blue-500 text-blue-900;
}

.mission-exit {
    @apply bg-orange-50 border-orange-500 text-orange-900;
}

/* Touch Gesture Support */
.touch-enabled {
    touch-action: manipulation;
}

.swipe-container {
    touch-action: pan-x;
    -webkit-overflow-scrolling: touch;
}

.pinch-zoom {
    touch-action: pinch-zoom;
}

/* Touch Feedback */
.touch-feedback:active {
    @apply bg-gray-100 scale-95;
    transition: all 0.1s ease;
}

/* Gesture Indicators */
.swipe-indicator {
    @apply absolute top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none opacity-0 transition-opacity duration-200;
}

.swipe-indicator.show {
    @apply opacity-100;
}

.swipe-indicator.left {
    @apply left-4;
}

.swipe-indicator.right {
    @apply right-4;
}

/* Accessibility Improvements */
.calendar-grid:focus-within {
    @apply ring-2 ring-blue-500 ring-offset-2;
}

.mission-event:focus {
    @apply outline-none ring-2 ring-blue-500 ring-offset-1;
}

/* Screen Reader Support */
.sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
}

.sr-only-focusable:focus {
    @apply static w-auto h-auto p-1 m-0 overflow-visible whitespace-normal;
    clip: auto;
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
    .mission-event {
        @apply border-2 border-black;
    }
    
    .calendar-grid {
        @apply border-2 border-black;
    }
    
    .status-indicator {
        @apply border border-black;
    }
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    .mission-event,
    .touch-feedback,
    .swipe-indicator {
        transition: none !important;
        animation: none !important;
    }
    
    .animate-spin,
    .animate-pulse {
        animation: none !important;
    }
}

/* Focus Visible Support */
.focus-visible:focus {
    @apply outline-none ring-2 ring-blue-500 ring-offset-2;
}

/* Keyboard Navigation Indicators */
.keyboard-selected {
    @apply ring-2 ring-blue-500 bg-blue-50;
}

/* Color Blind Friendly Patterns */
.colorblind-pattern-entry {
    background-image: repeating-linear-gradient(
        45deg,
        transparent,
        transparent 2px,
        rgba(59, 130, 246, 0.1) 2px,
        rgba(59, 130, 246, 0.1) 4px
    );
}

.colorblind-pattern-exit {
    background-image: repeating-linear-gradient(
        -45deg,
        transparent,
        transparent 2px,
        rgba(249, 115, 22, 0.1) 2px,
        rgba(249, 115, 22, 0.1) 4px
    );
}

/* Collapsible Views */
.collapsible-section {
    @apply transition-all duration-300 ease-in-out;
}

.collapsible-section.collapsed {
    @apply max-h-0 overflow-hidden opacity-0;
}

.collapsible-section.expanded {
    @apply max-h-screen opacity-100;
}

.collapse-toggle {
    @apply flex items-center justify-between w-full p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200;
}

.collapse-toggle:focus {
    @apply outline-none ring-2 ring-blue-500 ring-offset-2;
}

.collapse-icon {
    @apply transform transition-transform duration-200;
}

.collapse-icon.rotated {
    @apply rotate-180;
}

/* Mobile-Specific Calendar Views */
.mobile-calendar-view {
    @apply block md:hidden;
}

.desktop-calendar-view {
    @apply hidden md:block;
}

/* Mobile List View */
.mobile-list-view {
    @apply space-y-2;
}

.mobile-list-item {
    @apply bg-white border border-gray-200 rounded-lg p-3 shadow-sm;
}

.mobile-list-item:active {
    @apply bg-gray-50 scale-98;
}

/* Mobile Day Selector */
.mobile-day-selector {
    @apply flex overflow-x-auto space-x-2 pb-2;
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.mobile-day-selector::-webkit-scrollbar {
    display: none;
}

.mobile-day-item {
    @apply flex-shrink-0 w-16 h-20 flex flex-col items-center justify-center bg-white border border-gray-200 rounded-lg cursor-pointer;
}

.mobile-day-item.selected {
    @apply bg-blue-600 text-white border-blue-600;
}

.mobile-day-item.today {
    @apply border-blue-400 bg-blue-50;
}

/* Mobile Floating Action Button */
.mobile-fab {
    @apply fixed bottom-6 right-6 w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg flex items-center justify-center z-50;
}

.mobile-fab:active {
    @apply scale-95;
}

/* Mobile Bottom Sheet */
.mobile-bottom-sheet {
    @apply fixed inset-x-0 bottom-0 bg-white rounded-t-xl shadow-2xl transform transition-transform duration-300 ease-out z-50;
}

.mobile-bottom-sheet.closed {
    @apply translate-y-full;
}

.mobile-bottom-sheet.open {
    @apply translate-y-0;
}

.mobile-bottom-sheet-handle {
    @apply w-12 h-1 bg-gray-300 rounded-full mx-auto mt-3 mb-4;
}

/* Mobile Swipe Actions */
.swipe-actions {
    @apply absolute inset-y-0 right-0 flex items-center space-x-2 px-4 bg-red-500 text-white transform translate-x-full transition-transform duration-200;
}

.swipe-actions.revealed {
    @apply translate-x-0;
}

/* Mobile Pull to Refresh */
.pull-to-refresh {
    @apply relative;
}

.pull-to-refresh-indicator {
    @apply absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-full bg-white rounded-full p-2 shadow-lg transition-transform duration-200;
}

.pull-to-refresh-indicator.visible {
    @apply translate-y-4;
}

/* Print Styles */
@media print {
    .calendar-container {
        @apply max-w-none px-0;
    }
    
    .calendar-filters,
    .calendar-navigation,
    .mobile-fab,
    .mobile-bottom-sheet,
    .collapse-toggle {
        @apply hidden;
    }
    
    .calendar-grid {
        @apply shadow-none border-2 border-gray-400;
    }
    
    .mission-event {
        @apply shadow-none;
    }
    
    .collapsible-section {
        @apply max-h-none opacity-100;
    }
}